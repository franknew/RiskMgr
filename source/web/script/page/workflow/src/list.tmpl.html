<!--
包含list页所需所有tmpl
-->
<script type="text/html" id="ListContainer">
<div class="block-flat">
	<form class="form-inline" id="J_SearchForm">
		<div class="form-group">
			<label>单据状态</label>
			<select class="form-control" name="SearchType">
				<!--<option value="all">全部</option>-->
				<option selected="selected" value="processing">待审批</option>
				<option value="processed">已审批</option>
			</select>
		</div>
		<!--
		<div class="form-group">
			<label>申请人</label>
			<input type="text" name="Name" class="form-control" placeholder="">
		</div>
		-->
		<button type="submit" class="btn btn-default btn-flat" data-hook="search">查找</button>
	</form>
	<hr/>
	<div id="ListContainer">
		<div class="loading">Loading...</div>
	</div>
</div>
</script>

<script type="text/html" id="List">
	<table class="no-border">
		<thead class="no-border">
			<th>项目名</th>
			<th>说明</th>
			<th>申请人</th>
			<th>申请时间</th>
			<th>审批状态</th>
		</thead>
		<tbody class="no-border-x no-border-y" id="J_Lister">
			<%=this.ListItem(data)%>
		</tbody>
	</table>

	<div class="j-pager"></div>

</script>

<script type="text/html" id="ListItem">
<%
	var RString = require('risk/unit/string');
	var List = data||[],
		StatusText = {
			'1':'审批中',
			'3':'审批完成'
		};

	var i=0,Cur;
	if (List.length>0) {

		for(;Cur=List[i++];) {
%>
	<tr data-hook="view" class="pointer-item" data-id="<%=Cur.ProcessID%>" data-workflowid="<%=Cur.WorkflowID%>" data-activityid="<%=Cur.ActivityID%>" data-taskid="<%=Cur.TaskID%>">
		<td><%=Cur.Name%></td>
		<td><%=Cur.Title%></td>
		<td><%=Cur.Applier%></td>
		<td><%=RString.date(Cur.LastUpdateTime,'yyyy-MM-dd HH:mm:ss')%></td>
		<td><%=(StatusText[Cur.Status] || Cur.Status)%></td>
	</tr>
<%
		}
	}else{
%>
	<tr>
	<td colspan="2">
		<div class="alert alert-info" role="alert">没有审批信息</div>
	</td>
	</tr>
<%
	}
%>
</script>