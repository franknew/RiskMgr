<script type="text/html" id="SetupFollowup">
<%
	var DataView = data.data || {},
		FollowupCanEdit = DataView.FollowupCanEdit || (DataView.DisplayTracking && DataView.Action==2),
		FollowupData = DataView.Project;	//保后跟踪

	var Former = require('risk/components/former/index'),
		TplFollowup = require('./tpl.followup');
%>
<div class="step-pane" id="Followup">
	<div class="block-transparent">
		<div class="header"><h3>保后跟踪</h3></div>
		<div class="content">
		<%=Former.make(TplFollowup,{
			data:FollowupData,
			disabled:!FollowupCanEdit,
			groupCanAdd:FollowupCanEdit,
			tplFilter:function(tpl) {
				var rs = $.extend({},tpl);
					name = tpl.name || (tpl.type=='label' && tpl.html),
					type = DataView.Type*1;

				switch(type) {
					case 3: //同名转贷
						//同名转贷没有这些字段
						if ($.inArray(name, ['过户收文日期','ChangeOwnerProfileTime','过户办文编号','ChangeOwnerProfileCode','取新证日期','PickNewAssetCodeTime','新房产证号(不动产权号)','NewAssetCode','过户说明','ChangeOwnerRemark']) != -1) {
							rs = false;
						}
					break;
				}

				return rs;
			}
		})%>
		</div>
	</div>
	<%if (FollowupCanEdit) {%>
	<div class="form-group">
		<div class="text-center col-sm-12">
			<button class="btn btn btn-success" type="button" data-hook="followup-submit"><i class="fa fa-check"></i> 提交</button>
		</div>
	</div>
	<%}%>
</div>
</script>